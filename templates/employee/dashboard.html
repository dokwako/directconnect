{% extends 'base.html' %}
{% block content %}
<div class="space-y-6">
  <h2 class="text-3xl font-semibold">Welcome, {{ employee_name }}!</h2>

  <div class="flex space-x-4">
    <a href="{% url 'employee:assigned_orders' %}" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white p-6 rounded shadow flex items-center justify-center space-x-2">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><path d="M3 10h18M3 14h18M3 18h18"/></svg>
      <span class="text-lg font-semibold">View Assigned Orders ({{ pending_deliveries }})</span>
    </a>
  </div>

  <div>
    <h3 class="text-xl font-semibold mb-4">Assigned Orders</h3>
    {% if assigned_orders %}
      <ul class="space-y-4 max-w-md">
        {% for order in assigned_orders %}
          <li class="bg-white p-4 rounded shadow flex justify-between items-center">
            <div>
              <p><strong>Order #{{ order.id }}</strong></p>
              <p>From: {{ order.location }} To: {{ order.destination }}</p>
              <p>Status: {{ order.status }}</p>
            </div>
            <div>
              <a href="{% url 'employee:delivery_details' order.id %}" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold">Submit Delivery Details</a>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No assigned orders.</p>
    {% endif %}
  </div>

  <div class="bg-gray-100 p-4 rounded shadow max-w-md">
    <h3 class="text-xl font-semibold mb-2">Quick Stats</h3>
    <ul class="space-y-1">
      <li><span class="font-semibold">{{ deliveries_today }}</span> deliveries today</li>
      <li><span class="font-semibold">{{ pending_deliveries }}</span> pending deliveries</li>
    </ul>
  </div>
</div>
{% endblock %}
